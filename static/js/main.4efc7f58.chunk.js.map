{"version":3,"sources":["components/letters/LetterItem.module.css","components/layout/MainNavigation.module.css","components/ui/Card.module.css","components/letters/LetterList.module.css","components/layout/Layout.module.css","components/ui/Card.js","store/favorites-context.js","components/letters/LetterItem.js","components/letters/LetterList.js","global/constants.js","pages/AllLetters.js","components/letters/NewLetterForm.js","pages/NewLetter.js","pages/Favorites.js","components/layout/MainNavigation.js","components/layout/Layout.js","App.js","index.js","components/letters/NewLetterForm.module.css"],"names":["module","exports","Card","props","className","classes","card","children","FavoritesContext","createContext","favorites","totalFavorites","addFavorite","favoriteLetter","removeFavorite","letterId","itemIsFavorite","FavoritesContextProvider","useState","userFavorites","setUserFavorites","context","length","prevUserFavorites","concat","filter","letter","id","some","Provider","value","LetterItem","favoritesCtx","useContext","item","image","src","alt","recipient","content","sender","text","actions","onClick","LetterList","list","letters","map","API_FETCH_DATA","AllLettersPage","isLoading","setIsLoading","loadedLetters","setLoadedLetters","useEffect","fetch","then","response","json","data","key","unshift","NewLetterForm","recipientInputRef","useRef","imageInputRef","senderInputRef","textInputRef","form","onSubmit","event","preventDefault","letterData","current","onAddLetter","control","htmlFor","type","required","ref","rows","NewLetterPage","history","useHistory","method","body","JSON","stringify","headers","replace","FavoritesPage","MainNavigation","header","logo","to","badge","Layout","main","App","path","exact","AllLetters","NewLetter","Favorites","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4efc7f58.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"LetterItem_item__1zVwS\",\"image\":\"LetterItem_image__306fs\",\"content\":\"LetterItem_content__1ExNv\",\"actions\":\"LetterItem_actions__26LUw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainNavigation_header__32smD\",\"logo\":\"MainNavigation_logo__1lQv2\",\"active\":\"MainNavigation_active__2fOID\",\"badge\":\"MainNavigation_badge__3Oqnj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__2NOtI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"LetterList_list__2AJAi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Layout_main__3aayt\"};","import classes from './Card.module.css';\n\nfunction Card(props) {\n  return <div className={classes.card}>{props.children}</div>;\n}\n\nexport default Card;\n\n","import { createContext, useState } from 'react';\n\nconst FavoritesContext = createContext({\n  favorites: [],\n  totalFavorites: 0,\n  addFavorite: (favoriteLetter) => {},\n  removeFavorite: (letterId) => {},\n  itemIsFavorite: (letterId) => {}\n});\n\nexport function FavoritesContextProvider(props) {\n  const [userFavorites, setUserFavorites] = useState([]);\n\n  function addFavoriteHandler(favoriteLetter) {\n    setUserFavorites((prevUserFavorites) => {\n      return prevUserFavorites.concat(favoriteLetter);\n    });\n  }\n\n  function removeFavoriteHandler(letterId) {\n    setUserFavorites(prevUserFavorites => {\n      return prevUserFavorites.filter(letter => letter.id !== letterId);\n    });\n  }\n\n  function itemIsFavoriteHandler(letterId) {\n    return userFavorites.some(letter => letter.id === letterId);\n  }\n\n  const context = {\n    favorites: userFavorites,\n    totalFavorites: userFavorites.length,\n    addFavorite: addFavoriteHandler,\n    removeFavorite: removeFavoriteHandler,\n    itemIsFavorite: itemIsFavoriteHandler\n  };\n\n  return (\n    <FavoritesContext.Provider value={context}>\n      {props.children}\n    </FavoritesContext.Provider>\n  );\n}\n\nexport default FavoritesContext;\n","import { useContext } from 'react';\n\nimport Card from '../ui/Card';\nimport classes from './LetterItem.module.css';\nimport FavoritesContext from '../../store/favorites-context';\n\nfunction LetterItem(props) {\n  const favoritesCtx = useContext(FavoritesContext);\n\n  const itemIsFavorite = favoritesCtx.itemIsFavorite(props.id);\n\n  function toggleFavoriteStatusHandler() {\n    if (itemIsFavorite) {\n      favoritesCtx.removeFavorite(props.id);\n    } else {\n      favoritesCtx.addFavorite({\n        id: props.id,\n        recipient: props.recipient,\n        text: props.text,\n        image: props.image,\n        sender: props.sender,\n      });\n    }\n  }\n\n  return (\n    <li className={classes.item}>\n      <Card>\n        <div className={classes.image}>\n          <img src={props.image} alt={props.recipient} />\n        </div>\n        <div className={classes.content}>\n          <h3>Recipient: {props.recipient}</h3>\n          <sender>Sender: {props.sender}</sender>\n          <p>{props.text}</p>\n        </div>\n        <div className={classes.actions}>\n          <button onClick={toggleFavoriteStatusHandler}>\n            {itemIsFavorite ? 'üß°' : 'ü§ç'}\n          </button>\n        </div>\n      </Card>\n    </li>\n  );\n}\n\nexport default LetterItem;\n","import LetterItem from './LetterItem';\nimport classes from './LetterList.module.css';\n\nfunction LetterList(props) {\n  return (\n    <ul className={classes.list}>\n      {props.letters.map((letter) => (\n        <LetterItem\n          key={letter.id}\n          id={letter.id}\n          image={letter.image}\n          recipient={letter.recipient}\n          sender={letter.sender}\n          text={letter.text}\n        />\n      ))}\n    </ul>\n  );\n}\n\nexport default LetterList;\n\n","export const API_FETCH_DATA = \"https://react-f5da6-default-rtdb.firebaseio.com/letters.json\"\r\n","import { useState, useEffect } from \"react\"\n\nimport LetterList from \"../components/letters/LetterList\"\nimport {API_FETCH_DATA} from \"../global/constants\"\n\nfunction AllLettersPage() {\n  const [isLoading, setIsLoading] = useState(true)\n  const [loadedLetters, setLoadedLetters] = useState([])\n\n  useEffect(() => {\n    setIsLoading(true)\n    fetch(API_FETCH_DATA)\n      .then((response) => {\n        return response.json()\n      })\n      .then((data) => {\n        const letters = []\n\n        for (const key in data) {\n          const letter = {\n            id: key,\n            ...data[key],\n          }\n          \n          letters.unshift(letter)\n        }\n\n        setIsLoading(false)\n        setLoadedLetters(letters)\n      })\n  }, [])\n\n  if (isLoading) {\n    return (\n      <section>\n        <p>Loading...</p>\n      </section>\n    )\n  }\n\n  return (\n    <section>\n      <h1>All Letters</h1>\n      <LetterList letters={loadedLetters} />\n    </section>\n  )\n}\n\nexport default AllLettersPage\n","import { useRef } from \"react\"\n\nimport Card from \"../ui/Card\"\nimport classes from \"./NewLetterForm.module.css\"\n\nfunction NewLetterForm(props) {\n  const recipientInputRef = useRef()\n  const imageInputRef = useRef()\n  const senderInputRef = useRef()\n  const textInputRef = useRef()\n\n  function submitHandler(event) {\n    event.preventDefault()\n\n    const enteredRecipient = recipientInputRef.current.value\n    const enteredImage = imageInputRef.current.value\n    const enteredSender = senderInputRef.current.value\n    const enteredText = textInputRef.current.value\n\n    const letterData = {\n      recipient: enteredRecipient,\n      image: enteredImage,\n      sender: enteredSender,\n      text: enteredText,\n    }\n\n    props.onAddLetter(letterData)\n  }\n\n  return (\n    <Card>\n      <form className={classes.form} onSubmit={submitHandler}>\n        <div className={classes.control}>\n          <label htmlFor=\"recipient\">Letter Recipient</label>\n          <input type=\"text\" required id=\"recipient\" ref={recipientInputRef} />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"image\">Letter Image</label>\n          <input type=\"url\" required id=\"image\" ref={imageInputRef} />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"sender\">Sender</label>\n          <input type=\"text\" required id=\"sender\" ref={senderInputRef} />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"text\">Text</label>\n          <textarea id=\"text\" required rows=\"5\" ref={textInputRef}></textarea>\n        </div>\n        <div className={classes.actions}>\n          <button>Add Letter</button>\n        </div>\n      </form>\n    </Card>\n  )\n}\n\nexport default NewLetterForm\n","import { useHistory } from 'react-router-dom';\n\nimport NewLetterForm from '../components/letters/NewLetterForm';\nimport {API_FETCH_DATA} from \"../global/constants\"\n\nfunction NewLetterPage() {\n  const history = useHistory();\n\n  function addLetterHandler(letterData) {\n    fetch(\n      API_FETCH_DATA,\n      {\n        method: 'POST',\n        body: JSON.stringify(letterData),\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n    ).then(() => {\n      history.replace('/');\n    });\n  }\n\n  return (\n    <section>\n      <h1>Add New Letter</h1>\n      <NewLetterForm onAddLetter={addLetterHandler} />\n    </section>\n  );\n}\n\nexport default NewLetterPage;\n","import { useContext } from 'react';\n\nimport FavoritesContext from '../store/favorites-context';\nimport LetterList from '../components/letters/LetterList';\n\nfunction FavoritesPage() {\n  const favoritesCtx = useContext(FavoritesContext);\n\n  let content;\n\n  if (favoritesCtx.totalFavorites === 0) {\n    content = <p>You got no favorites yet. Start adding some?</p>;\n  } else {\n    content = <LetterList letters={favoritesCtx.favorites} />;\n  }\n\n  return (\n    <section>\n      <h1>My Favorites</h1>\n      {content}\n    </section>\n  );\n}\n\nexport default FavoritesPage;\n","import { useContext } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport classes from './MainNavigation.module.css';\nimport FavoritesContext from '../../store/favorites-context';\n\nfunction MainNavigation() {\n  const favoritesCtx = useContext(FavoritesContext);\n\n  return (\n    <header className={classes.header}>\n      <div className={classes.logo}>React Letters</div>\n      <nav>\n        <ul>\n          <li>\n            <Link to='/'>üì¨</Link>\n          </li>\n          <li>\n            <Link to='/new-letter'>üìù</Link>\n          </li>\n          <li>\n            <Link to='/favorites'>\n            üß°\n              <span className={classes.badge}>\n                {favoritesCtx.totalFavorites}\n              </span>\n            </Link>\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n}\n\nexport default MainNavigation;\n","import MainNavigation from \"./MainNavigation\"\nimport classes from \"./Layout.module.css\"\n\nfunction Layout(props) {\n  return (\n    <div>\n      <MainNavigation />\n      <main className={classes.main}>{props.children}</main>\n    </div>\n  )\n}\n\nexport default Layout\n\n","import { Route, Switch } from 'react-router-dom';\n\nimport AllLettersPage from './pages/AllLetters';\nimport NewLetterPage from './pages/NewLetter';\nimport FavoritesPage from './pages/Favorites';\nimport Layout from './components/layout/Layout';\n\nfunction App() {\n  return (\n    <Layout>\n      <Switch>\n        <Route path='/' exact>\n          <AllLettersPage />\n        </Route>\n        <Route path='/new-letter'>\n          <NewLetterPage />\n        </Route>\n        <Route path='/favorites'>\n          <FavoritesPage />\n        </Route>\n      </Switch>\n    </Layout>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\nimport { FavoritesContextProvider } from './store/favorites-context';\n\nReactDOM.render(\n  <FavoritesContextProvider>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </FavoritesContextProvider>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"NewLetterForm_form__i1NRh\",\"control\":\"NewLetterForm_control__29hMx\",\"actions\":\"NewLetterForm_actions__2Mdha\"};"],"sourceRoot":""}